USE master
GO

-- Drop database if existing
DROP DATABASE EventManagementCS2021
GO

-- Create database
CREATE DATABASE EventManagementCS2021
GO

USE EventManagementCS2021
GO

-- Create Event table
CREATE TABLE Events (
    EventID int IDENTITY NOT NULL PRIMARY KEY,
    EventName NVARCHAR(50) NOT NULL,
    [Location] NVARCHAR(100) NOT NULL,
    StartDate DATE NOT NULL,
    StartTime TIME NOT NULL,
    EndDate DATE,
    EndTime TIME,
    EventDescription NVARCHAR(max) NOT NULL,
    LocationGuide NVARCHAR(max)
)
GO

-- Create TicketType table
CREATE TABLE TicketType (
    EventID int FOREIGN KEY REFERENCES Events(EventID),
    TicketType NVARCHAR(50) NOT NULL,
    CONSTRAINT PK_Type PRIMARY KEY (EventID, TicketType)
)
GO
